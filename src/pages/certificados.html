<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/src/styles/certificados.css">
    <script src="https://kit.fontawesome.com/49bd61e109.js" crossorigin="anonymous"></script>
    <title>Certificados</title>
</head>
<body>
    <div id="profile">
        <div id="photoAndUsername">
            <img src="../default-photo-profile.png" alt="#">
            <p name="username" id="username-player">usernamePlay3r</p>
        </div>
        <p name="name" id="name-player">Nome do Jogador</p>
    </div>
    <div id="main-container">
        <div id="certificadosDiv">
            <h1>Certificados</h1>
            <div id="certificados">
                <!-- <div class="certificado">
                    <div class="risco"></div>
                    <h2><a href="">Título do certificado</a></h2>
                    <p>Nome do jogador</p>
                </div>
    
                <div class="certificado">
                    <div class="risco"></div>
                    <h2><a href="">Título do certificado</a></h2>
                    <p>Nome do jogador</p>
                </div>
    
                <div class="certificado">
                    <div class="risco"></div>
                    <h2><a href="">Título do certificado</a></h2>
                    <p>Nome do jogador</p>
                </div>

                <div class="certificado">
                    <div class="risco"></div>
                    <h2><a href="">Título do certificado</a></h2>
                    <p>Nome do jogador</p>
                </div> -->
            </div>
        </div>
        <div id="backToMenu">
            <a href="index.html">
                <button type="button" id="backButton">
                    <img src="../left-arrow.png" alt="back">
                    <p>Voltar</p>
                </button>
            </a>
        </div>
    </div>
</body>
<script>
    function renderNameAndUsername() {
        const player = JSON.parse(localStorage.getItem("Player Logado"));
        document.getElementById("username-player").innerHTML = player.username;
        document.getElementById("name-player").innerHTML = player.name;
    }

    function getCertificates() {
        const player = JSON.parse(localStorage.getItem("Player Logado"));
        const top10 = JSON.parse(localStorage.getItem("Top 10"));

        let showCertifieds = false;

        for(let i = 0; i < top10.length; i++) {
            if(top10[i] == player.name && i != top10.length - 1) {
                showCertifieds = true;
                break;
            }
        }

        if(showCertifieds) {
            // certificado tio da informatica
            const divCertificado = document.createElement("div");
            divCertificado.setAttribute("class", "certificado");
            
            const risco = document.createElement("div");
            risco.setAttribute("class", "risco");
            divCertificado.appendChild(risco);

            const h2Certificado = document.createElement("h2");
            
            const linkCertificado = document.createElement("a");
            linkCertificado.innerText = "Tio da Informática"
            linkCertificado.setAttribute("href", "/src/certifieds/2.jpg")
            
            h2Certificado.appendChild(linkCertificado)
            divCertificado.appendChild(h2Certificado);

            const playerName = document.createElement("p");
            playerName.innerHTML = player.name;
            divCertificado.appendChild(playerName);

            const image = document.createElement("img");
            image.setAttribute("src", "../certifieds/2.jpg")
            image.setAttribute("width", "280")
            divCertificado.appendChild(image);

            document.getElementById("certificados").appendChild(divCertificado);

            // certificado primo wifi
            const divCertificado2 = document.createElement("div");
            divCertificado2.setAttribute("class", "certificado");
            
            const risco2 = document.createElement("div");
            risco2.setAttribute("class", "risco");
            divCertificado2.appendChild(risco2);

            const h2Certificado2 = document.createElement("h2");
            
            const linkCertificado2 = document.createElement("a");
            linkCertificado2.innerText = "Primo que conserta o Wifi"
            linkCertificado2.setAttribute("href", "/src/certifieds/4.jpg")
            
            h2Certificado2.appendChild(linkCertificado2)
            divCertificado2.appendChild(h2Certificado2);

            const playerName2 = document.createElement("p");
            playerName2.innerHTML = player.name;
            divCertificado2.appendChild(playerName2);

            const image2 = document.createElement("img");
            image2.setAttribute("src", "../certifieds/4.jpg")
            image2.setAttribute("width", "280")
            divCertificado2.appendChild(image2);

            document.getElementById("certificados").appendChild(divCertificado2);

        } else {
            const noCertifiedsMessage = document.createElement("h2");
            noCertifiedsMessage.innerHTML = "Sem certificados ainda";

            document.getElementById("certificados").appendChild(noCertifiedsMessage);
        }
    }

    function loadPageData() {
        renderNameAndUsername();
        getCertificates();
    }

    document.onload(loadPageData());
</script>
</html>